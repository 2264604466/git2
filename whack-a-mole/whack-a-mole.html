<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    body {
        background: green;
    }

    ul,
    li,
    ol {
        list-style: none;
    }

    header {
        width: 100%;
        height: 50px;
        position: relative;
        font: 2rem;
    }

    ul {
        width: 1000px;
        display: flex;
        flex-wrap: wrap;
        margin: 0 auto;
    }

    li {
        width: 25.333%;
        margin-top: 20px;
        margin-left: 70px;
        height: 250px;
    }

    img {
        width: 100%;
        transform: 0.3;
    }

    footer {
        clear: both;
        text-align: center;
    }

    #play {
        font-size: 2rem;
        margin-top: 10px;
    }
</style>

<body>
    <header>
        <span class="othertime">æ¸¸æˆå‰©ä½™æ—¶é—´ï¼š<span id="time">30</span></span>
        <span class="fenshu">æ¬¡æ•°ï¼š<span id="fs">0</span></span>
    </header>
    <ul>
        <li><img src="./hole.png" alt=""></li>
        <li><img src="./hole.png" alt=""></li>
        <li><img src="./hole.png" alt=""></li>
        <li><img src="./hole.png" alt=""></li>
        <li><img src="./hole.png" alt=""></li>
        <li><img src="./hole.png" alt=""></li>
        <li><img src="./hole.png" alt=""></li>
        <li><img src="./hole.png" alt=""></li>
        <li><img src="./hole.png" alt=""></li>
    </ul>
    <footer><button id="play">å¼€å§‹æ¸¸æˆ</button></footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.3/jquery.js"></script>
<script>
    var c, t, prev;
    $("#play").on('click', function () {

        if ($(this).text() == 'å¼€å§‹æ¸¸æˆ') {
            $(this).text('ç»“æŸæ¸¸æˆ')
            var i = 30,
                 s = 0;
            var img = $('img')
            c = setInterval(function () {
                $('#time').text(--i);
                if (i == -1) {
                    clearInterval(c);
                    clearInterval(t);
                    $("#play").text("å¼€å§‹æ¸¸æˆ");
                    alert('æ‚¨ä¸€å…±å‡»ä¸­'+$('#fs').text()+'æ¬¡'+'è·å¾—'+$('#fs').text()+'åˆ†')
                    $('#time').text('30');
                    $('#fs').text('0');
                    prev.src = 'hole.png';
                }
            }, 1000)

            t = setInterval(function () {
                if (s == 1) {$(prev).attr('src','hole.png');;$(prev).removeAttr('name');}
                s = 1;
                prev = img[Math.floor(Math.random() * 9)];
                $(prev).attr('src','ds.png');
               $(prev).attr('name','ds');
            },(4 + Math.floor(Math.random() * 9)) * 100)

        } else if ($(this).text() == "ç»“æŸæ¸¸æˆ") {
            clearInterval(c);
            clearInterval(t);
            alert('æ‚¨ä¸€å…±å‡»ä¸­'+$('#fs').text()+'æ¬¡'+'è·å¾—'+$('#fs').text()+'åˆ†'+'è¯·ç»§ç»­åŠ æ²¹ğŸ˜Š')
            $(this).text("å¼€å§‹æ¸¸æˆ");
            $('#time').text('30');
            $('#fs').text('0');
            prev.src = 'hole.png';
        }

        var fengshu = parseInt($('#fs').text())

        $('img').click(function(){
            if ($('#play').text() != "å¼€å§‹æ¸¸æˆ" && $(this).attr('name') == 'ds') {
                    fengshu += 1;
                    $('#fs').text(fengshu);
                }
        })
        $('img').on('mousedown', function (e) {
        e.preventDefault()
    })

    })
</script>

</html>